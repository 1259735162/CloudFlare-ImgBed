"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[5],{2542:function(e,t,a){a.d(t,{A:function(){return u}});var i=a(6768),n=a(4232);const s={key:0,class:"page-footer"},r=["href"];function o(e,t,a,o,l,d){const c=(0,i.g2)("font-awesome-icon");return d.disableFooter?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("p",null,[(0,i.eW)("© 2024-"+(0,n.v_)(d.thisYear)+" Designed by ",1),t[0]||(t[0]=(0,i.Lk)("a",{class:"footer-name",href:"https://github.com/MarSeventh",target:"_blank"},"SanyueQi",-1)),t[1]||(t[1]=(0,i.eW)(" for You! ")),(0,i.Lk)("a",{href:d.footerLink,target:"_blank"},[(0,i.bF)(c,{icon:"paper-plane",class:"footer-link-icon"})],8,r)])]))}var l=a(782),d={name:"Footer",computed:{...(0,l.L8)(["userConfig"]),footerLink(){return this.userConfig?.footerLink||"https://github.com/MarSeventh/CloudFlare-ImgBed"},thisYear(){return(new Date).getFullYear()},disableFooter(){return this.userConfig?.disableFooter||!1}}},c=a(1241);const g=(0,c.A)(d,[["render",o],["__scopeId","data-v-6eac6ae4"]]);var u=g},3525:function(e,t,a){a.d(t,{A:function(){return h}});var i=a(6768),n=a(4232);const s={id:"themeMask"},r=["cx","cy","r"],o=["r"],l=["opacity"];function d(e,t,a,d,c,g){return(0,i.uX)(),(0,i.CE)("div",{id:"themeToggle",onClick:t[0]||(t[0]=(...e)=>g.handleToggleClick&&g.handleToggleClick(...e))},[((0,i.uX)(),(0,i.CE)("svg",{class:(0,n.C4)(["theme_toggle_svg",{dark:c.isDark}]),width:"1.5em",height:"1.5em",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"currentColor"},[(0,i.Lk)("mask",s,[t[1]||(t[1]=(0,i.Lk)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"},null,-1)),(0,i.Lk)("circle",{class:"theme_toggle_circle1",fill:"black",cx:c.isDark?"50%":"100%",cy:c.isDark?"23%":"0%",r:c.isDark?"9":"5"},null,8,r)]),(0,i.Lk)("circle",{class:"theme_toggle_circle2",cx:"12",cy:"12",r:c.isDark?"9":"5",mask:"url(#themeMask)"},null,8,o),(0,i.Lk)("g",{class:"theme_toggle_g",stroke:"currentColor",opacity:c.isDark?0:1},t[2]||(t[2]=[(0,i.Fv)('<line x1="12" y1="1" x2="12" y2="3" data-v-019ed83e></line><line x1="12" y1="21" x2="12" y2="23" data-v-019ed83e></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-019ed83e></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-019ed83e></line><line x1="1" y1="12" x2="3" y2="12" data-v-019ed83e></line><line x1="21" y1="12" x2="23" y2="12" data-v-019ed83e></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-019ed83e></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-019ed83e></line>',8)]),8,l)],2))])}var c={name:"ToggleDark",data(){return{isDark:this.$store.getters.useDarkMode}},methods:{handleToggleClick(){this.isDark=!this.isDark,this.$store.commit("setUseDarkMode",this.isDark),this.$store.commit("setCusDarkMode",!0)}}},g=a(1241);const u=(0,g.A)(c,[["render",d],["__scopeId","data-v-019ed83e"]]);var h=u},1005:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var i=a(47),n=(a(5331),a(9648),a(2105)),s=(a(9092),a(3525)),r=a(6768),o=a(5130);const l={class:"login"},d={class:"login-container"},c={class:"input-container"},g={class:"input-container"};function u(e,t,a,u,h,m){const k=s.A,p=n.WK,y=i.S2;return(0,r.uX)(),(0,r.CE)("div",l,[t[6]||(t[6]=(0,r.Lk)("img",{id:"admin-bg1",class:"background-image1",alt:"Background Image"},null,-1)),t[7]||(t[7]=(0,r.Lk)("img",{id:"admin-bg2",class:"background-image2",alt:"Background Image"},null,-1)),(0,r.bF)(k,{class:"toggle-dark"}),(0,r.Lk)("div",d,[t[5]||(t[5]=(0,r.Lk)("h1",{class:"login-title"},"管理端登录",-1)),(0,r.Lk)("div",c,[t[2]||(t[2]=(0,r.Lk)("a",{class:"input-name"},"用户名",-1)),(0,r.bF)(p,{modelValue:h.username,"onUpdate:modelValue":t[0]||(t[0]=e=>h.username=e),placeholder:"请输入用户名",class:"password-input"},null,8,["modelValue"])]),(0,r.Lk)("div",g,[t[3]||(t[3]=(0,r.Lk)("a",{class:"input-name"},"密码",-1)),(0,r.bF)(p,{modelValue:h.password,"onUpdate:modelValue":t[1]||(t[1]=e=>h.password=e),placeholder:"请输入密码",class:"password-input",type:"password","show-password":"",onKeyup:(0,o.jR)(m.login,["enter","native"])},null,8,["modelValue","onKeyup"])]),(0,r.bF)(y,{class:"submit",type:"primary",onClick:m.login},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)("登录")]))),_:1},8,["onClick"])])])}a(4114),a(4979);var h=a(2542),m=a(782),k={data(){return{password:"",username:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,m.L8)(["userConfig","bingWallPapers"]),adminLoginBkImg(){return this.userConfig?.adminLoginBkImg||this.userConfig?.loginBkImg},adminBkInterval(){return this.userConfig?.adminBkInterval||this.userConfig?.bkInterval||3e3},adminBkOpacity(){return this.userConfig?.adminBkOpacity||this.userConfig?.bkOpacity||1},isDark(){return this.$store.getters.useDarkMode}},components:{Footer:h.A,ToggleDark:s.A},mounted(){const e=document.getElementById("admin-bg1"),t=document.getElementById("admin-bg2");"bing"===this.adminLoginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{this.bingWallPapers.length&&(e.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,e.onload=()=>{e.style.opacity=this.adminBkOpacity,document.querySelector(".login").style.background="transparent"},setInterval((()=>{let a=0!=e.style.opacity?e:t,i=0!=e.style.opacity?t:e;a.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,i.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,i.onload=()=>{i.style.opacity=this.adminBkOpacity}}),this.adminBkInterval))})):Array.isArray(this.adminLoginBkImg)&&this.adminLoginBkImg.length>1?(e.src=this.adminLoginBkImg[this.customWallPaperIndex],e.onload=()=>{e.style.opacity=this.adminBkOpacity,document.querySelector(".login").style.background="transparent"},setInterval((()=>{let a=0!=e.style.opacity?e:t,i=0!=e.style.opacity?t:e;a.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.adminLoginBkImg.length,i.src=this.adminLoginBkImg[this.customWallPaperIndex],i.onload=()=>{i.style.opacity=this.adminBkOpacity}}),this.adminBkInterval)):Array.isArray(this.adminLoginBkImg)&&1===this.adminLoginBkImg.length&&(e.src=this.adminLoginBkImg[0],e.onload=()=>{e.style.opacity=this.adminBkOpacity,document.querySelector(".login").style.background="transparent"})},methods:{async login(){const e=btoa(`${this.username}:${this.password}`);try{const t=await fetch("/api/manage/check",{method:"GET",headers:{Authorization:`Basic ${e}`},credentials:"include"});401===t.status?this.$message.error("用户名或密码错误"):200===t.status?(this.$store.commit("setCredentials",e),this.$router.push("/dashboard")):this.$message.error("用户名或密码错误")}catch(t){this.$message.error("服务器错误")}}}},p=a(1241);const y=(0,p.A)(k,[["render",u],["__scopeId","data-v-6dfcaa0c"]]);var b=y}}]);
//# sourceMappingURL=5.8605583a.js.map